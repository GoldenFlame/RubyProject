<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Taskone</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.3.8/jquery-1.4.2.min.js' type='text/javascript'></script>
    <script src='./assets/0.3.8/jquery.dataTables.min.js' type='text/javascript'></script>   
    <script src='./assets/0.3.8/fancybox/jquery.fancybox-1.3.1.pack.js' type='text/javascript'></script>   
    <script src='./assets/0.3.8/jquery.timeago.js' type='text/javascript'></script>   
    <script src='./assets/0.3.8/jquery.url.js' type='text/javascript'></script>   
    <script src='./assets/0.3.8/app.js' type='text/javascript'></script>    
    <link href='./assets/0.3.8/stylesheet.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link href='./assets/0.3.8/fancybox/jquery.fancybox-1.3.1.css' media='screen, projection, print' rel='stylesheet' type='text/css'>
    <link href='./assets/0.3.8/smoothness/jquery-ui-1.8.4.custom.css' media='screen, projection, print' rel='stylesheet' type='text/css'>    
    <link rel="shortcut icon" type="image/png" href="./assets/0.3.8/favicon.png" />
    <link rel="icon" type="image/png" href="./assets/0.3.8/favicon.png" />
  </head>
  
  <body>
    <div id="loading">
      <img src="./assets/0.3.8/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" style="display:none;">
      <div class="timestamp">Generated <abbr class="timeago" title="2010-11-15T01:13:36+02:00">2010-11-15T01:13:36+02:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    All Files
    (<span class="red">70.19%</span>)
  </h2>
  <a name="AllFiles"></a>
  <div>
    <b>20</b> files in total.
    <b>748</b> relevant lines. 
    <span class="green"><b>525</b> lines covered</span> and
    <span class="red"><b>223</b> lines missed </span>
  </div>
  <table class="file_list">
    <thead>
      <tr>
        <th>File</th>
        <th>% covered</th>
        <th>Lines</th>
        <th>Relevant Lines</th>
        <th>Lines covered</th>
        <th>Lines missed</th>
      </tr>
    </thead>
    <tbody>
      
      <tr>
        <td><a href="#f48228bc31b554c7950b3f6f1ee6454a7b92c809" class="src_link" title="./lib/avatar.rb">./lib/avatar.rb</a></td>
        <td class="red">76.92 %</td>
        <td>96</td>
        <td>52</td>
        <td>40</td>
        <td>12</td>
      </tr>
      
      <tr>
        <td><a href="#a80b047a091ed9b83d45196dc845c6b8db89a5f1" class="src_link" title="./lib/city.rb">./lib/city.rb</a></td>
        <td class="green">100.0 %</td>
        <td>4</td>
        <td>2</td>
        <td>2</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#6bf88b7334914804add6bac8bcb7ca86bcff9006" class="src_link" title="./lib/entity.rb">./lib/entity.rb</a></td>
        <td class="green">100.0 %</td>
        <td>11</td>
        <td>7</td>
        <td>7</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#ac9ea1480ca26a55f42fcb593005ef3d5e18170b" class="src_link" title="./lib/fight.rb">./lib/fight.rb</a></td>
        <td class="green">100.0 %</td>
        <td>60</td>
        <td>39</td>
        <td>39</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#8b01c40088d5ca1b902055bb61005dece9a875df" class="src_link" title="./lib/item.rb">./lib/item.rb</a></td>
        <td class="green">100.0 %</td>
        <td>10</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#a56dee8befacb1ddade160bc4a9f49a5d2ef74d1" class="src_link" title="./lib/monster.rb">./lib/monster.rb</a></td>
        <td class="green">100.0 %</td>
        <td>3</td>
        <td>2</td>
        <td>2</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#1fde1ccf7792910093653477b8a16891e27d1784" class="src_link" title="./lib/shop.rb">./lib/shop.rb</a></td>
        <td class="red">64.0 %</td>
        <td>43</td>
        <td>25</td>
        <td>16</td>
        <td>9</td>
      </tr>
      
      <tr>
        <td><a href="#28132bec1392405fdd907b9dfea70c6d1238e337" class="src_link" title="./lib/ui.rb">./lib/ui.rb</a></td>
        <td class="red">12.11 %</td>
        <td>313</td>
        <td>223</td>
        <td>27</td>
        <td>196</td>
      </tr>
      
      <tr>
        <td><a href="#832129549b0647524fd7acd6d1b180205d6f9060" class="src_link" title="./lib/world.rb">./lib/world.rb</a></td>
        <td class="green">100.0 %</td>
        <td>127</td>
        <td>80</td>
        <td>80</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#0af2ea43049f5008c8c20947126970834126a1c3" class="src_link" title="./lib/yaml_manage.rb">./lib/yaml_manage.rb</a></td>
        <td class="green">100.0 %</td>
        <td>37</td>
        <td>15</td>
        <td>15</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#47972f0de1c470631b667516cb59423ce577c803" class="src_link" title="./matchers/be_readable.rb">./matchers/be_readable.rb</a></td>
        <td class="red">75.0 %</td>
        <td>29</td>
        <td>12</td>
        <td>9</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#d152ca488c842763224ea410d804242c45038a54" class="src_link" title="./matchers/be_updated.rb">./matchers/be_updated.rb</a></td>
        <td class="red">78.57 %</td>
        <td>26</td>
        <td>14</td>
        <td>11</td>
        <td>3</td>
      </tr>
      
      <tr>
        <td><a href="#aa8190484f2efa40a361c9422b43d5a30579a51e" class="src_link" title="./spec/city_spec.rb">./spec/city_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>11</td>
        <td>9</td>
        <td>9</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#95f8d691aaa2680a35b0d63af282ce967e94dfc0" class="src_link" title="./spec/entity_spec.rb">./spec/entity_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>8</td>
        <td>6</td>
        <td>6</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#6b9b1137b28253ab16d370a74128874f45184766" class="src_link" title="./spec/fight_spec.rb">./spec/fight_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>103</td>
        <td>68</td>
        <td>68</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#05daf67aeaa813e13e46f049b930fbb0b4adf74d" class="src_link" title="./spec/item_spec.rb">./spec/item_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>20</td>
        <td>15</td>
        <td>15</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#d228de2cc8d32c63d6fd9f456190a25e1308c394" class="src_link" title="./spec/monster_spec.rb">./spec/monster_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>15</td>
        <td>13</td>
        <td>13</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#e568e4ab759d260924361070b48d1608db667447" class="src_link" title="./spec/shop_spec.rb">./spec/shop_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>46</td>
        <td>31</td>
        <td>31</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#630315059ee47dd3a60f0177b71141278f26a6ed" class="src_link" title="./spec/world_spec.rb">./spec/world_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>161</td>
        <td>108</td>
        <td>108</td>
        <td>0</td>
      </tr>
      
      <tr>
        <td><a href="#8fdce5675695fd36d60910546cffe32644b305c3" class="src_link" title="./spec/yaml_manage_spec.rb">./spec/yaml_manage_spec.rb</a></td>
        <td class="green">100.0 %</td>
        <td>41</td>
        <td>21</td>
        <td>21</td>
        <td>0</td>
      </tr>
      
    </tbody>
  </table>
</div>

        
      </div>
    
      <div id="footer">
        Generated by <a href="http://github.com/colszowka/simplecov">simplecov</a> v0.3.6 
        and simplecov-html v0.3.8<br/>
        using RSpec
      </div>
    
      <div class="source_files">
      
        <div class="source_table" id="f48228bc31b554c7950b3f6f1ee6454a7b92c809">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/avatar.rb</h3>
        <h4><span class="red">76.92 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Avatar &lt; Entity</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_accessor :name, :password, :avatar_class, :level, :exp,</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  :current_city, :gold, :base_dmg_min, :base_dmg_max, :max_hp,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  :hp, :max_mana, :mana, :backpack, :eq_weapon, :eq_armor</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  def parse(data)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="36">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    super</pre>
      </td>
      <td class="hits">
        36
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="36">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    @backpack = backpack_init(data[:backpack])</pre>
      </td>
      <td class="hits">
        36
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="36">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    @eq_weapon, @eq_armor = equipment_init(data[:equiped][:weapon], data[:equiped][:armor])</pre>
      </td>
      <td class="hits">
        36
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  def equipment_init(weapon, armor)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="38">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    if(weapon != nil)</pre>
      </td>
      <td class="hits">
        38
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      eq_weapon = Item.new(&quot;data/item/#{Item.find_file_name(weapon)}.yml&quot;)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="35">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      eq_weapon = nil</pre>
      </td>
      <td class="hits">
        35
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="38">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    if(armor != nil)</pre>
      </td>
      <td class="hits">
        38
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      eq_armor = Item.new(&quot;data/item/#{Item.find_file_name(armor)}.yml&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="38">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      eq_armor = nil</pre>
      </td>
      <td class="hits">
        38
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="38">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    return eq_weapon, eq_armor</pre>
      </td>
      <td class="hits">
        38
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  def backpack_init(backpack)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="36">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    if(backpack == nil)</pre>
      </td>
      <td class="hits">
        36
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      backpack = []</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="40">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    backpack.collect!{|x| Item.new(&quot;data/item/#{Item.find_file_name(x)}.yml&quot;)} </pre>
      </td>
      <td class="hits">
        40
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>  def save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    YamlManage.save_char(to_hash)</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>  def equip(item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    type = item.item_class</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    if(type == &quot;sword&quot; || type == &quot;bow&quot; || type == &quot;staff&quot;)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      if(@eq_weapon != nil)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>        @backpack.push(@eq_weapon)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      @eq_weapon = item.clone</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      @backpack.delete(item)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    elsif(type == :armor)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      if(@eq_armor != nil)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        @backpack.push(@eq_armor)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      @eq_armor = item.clone</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      @backpack.delete(item)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      @eq_armor = item</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>    save</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>  def disequip(item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    type = item.item_class</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    if(type == &quot;sword&quot; || type == &quot;bow&quot; || type == &quot;staff&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      @eq_weapon = nil</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      @backpack.push(item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    elsif(type == :armor)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      @eq_armor = nil</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      @backpack.push(item)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>  def to_hash</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>    hash_weapon = nil</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>    hash_armor = nil</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    if(@eq_weapon != nil)</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>      hash_weapon = @eq_weapon.name</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>    if(@eq_armor != nil)</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>      hash_armor = @eq_armor.name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    hash = {:name =&gt; @name,</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      :password =&gt; @password,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      :avatar_class =&gt; @avatar_class,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>      :level =&gt; @level,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>      :exp =&gt; @exp,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>      :current_city =&gt; @current_city,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      :gold =&gt; @gold,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>      :base_dmg_min =&gt; @base_dmg_min,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>      :base_dmg_max =&gt; @base_dmg_max,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>      :max_hp =&gt; @max_hp,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>      :hp =&gt; @hp,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      :max_mana =&gt; @max_mana,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      :mana =&gt; @mana,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="9">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>      :backpack =&gt; @backpack.collect{|x| x.name},</pre>
      </td>
      <td class="hits">
        9
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>      :equiped =&gt; {:weapon =&gt; hash_weapon, :armor =&gt; hash_armor}</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      };</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a80b047a091ed9b83d45196dc845c6b8db89a5f1">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/city.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class City &lt; Entity</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_reader :name, :shop, :inn, :fight_area_nr, :fight_area</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="6bf88b7334914804add6bac8bcb7ca86bcff9006">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/entity.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Entity</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_accessor :name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  def initialize(path)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="331">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    data = YamlManage.load_file(path)</pre>
      </td>
      <td class="hits">
        331
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="331">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    parse(data)</pre>
      </td>
      <td class="hits">
        331
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  def parse(data)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2881">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    data.each{|k,v| instance_variable_set(:&quot;@#{k}&quot;, v)}</pre>
      </td>
      <td class="hits">
        2881
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="ac9ea1480ca26a55f42fcb593005ef3d5e18170b">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/fight.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>class Fight</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  attr_accessor :interface</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def initialize(interface)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="29">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    @interface = interface</pre>
      </td>
      <td class="hits">
        29
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  def fight(avatar, enemy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    monster = Monster.new(&quot;data/monster/#{enemy}.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    defeat = false</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    while(!defeat)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      @interface.clear_console</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      @interface.battle_info(avatar, monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      @interface.fight_menu(avatar, monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      attack(monster,avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      defeat = check_fight_end(avatar,monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      avatar.save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  def check_fight_end(avatar, monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    defeat = false</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    if(monster.hp &lt;= 0)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      defeat = true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      player_prize(avatar, monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    elsif(avatar.hp &lt;= 0)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      defeat = true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      player_penalty(avatar, monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    return defeat</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>  def player_prize(avatar, enemy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    @interface.winner_msg(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    avatar.exp += enemy.exp_bonus</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    avatar.gold += Random.new.rand(0..enemy.gold_max)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>  def player_penalty(avatar,enemy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    @interface.looser_msg(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    avatar.gold -= Random.new.rand(0..enemy.gold_max) / 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>  def attack(attacker, defender)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    if(attacker.eq_weapon != nil)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>      dmg = Random.new.rand(attacker.base_dmg_min+attacker.eq_weapon.damage_min..attacker.base_dmg_max+attacker.eq_weapon.damage_max)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      dmg = Random.new.rand(attacker.base_dmg_min..attacker.base_dmg_max)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>    defender.hp -= dmg</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>  def skill(attacker, defender)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>    defender.hp -= attacker.base_dmg_max * 2</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>  def use_item(attacker)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    attacker.hp += 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="8b01c40088d5ca1b902055bb61005dece9a875df">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/item.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Item &lt; Entity</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_reader :file, :name, :item_class, :level, :damage_min, :damage_max, :price</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def self.find_file_name(item_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    item_return = nil</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="124">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    item = Dir.glob(&quot;data/item/*&quot;).collect{|x| Item.new(x)}.detect{|i| i.name == item_name}</pre>
      </td>
      <td class="hits">
        124
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="8">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    return item.file</pre>
      </td>
      <td class="hits">
        8
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="a56dee8befacb1ddade160bc4a9f49a5d2ef74d1">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/monster.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class Monster &lt; Entity</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_accessor :name, :level, :base_dmg_min, :base_dmg_max, :max_hp, :hp, :exp_bonus, :gold_max</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="1fde1ccf7792910093653477b8a16891e27d1784">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/shop.rb</h3>
        <h4><span class="red">64.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>class Shop</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  @interface</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def initialize(interface, items)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    @interface = interface</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    @items = items</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  def item(avatar,item_class)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="20">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    items = @items.clone.delete_if{|x| x.item_class != item_class}</pre>
      </td>
      <td class="hits">
        20
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    c = @interface.item(items)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    until (items.size+1&gt;= c &amp;&amp; c &gt;= 0)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      c = @interface.read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    if(c != items.size+1)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      @interface.item_view(avatar, items[c-1])</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  def item_view(avatar,item,c)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    if(avatar.gold&gt;=item.price)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      case c</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      when 1 then buy_item(avatar,item)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      when 2 then item(avatar, item.item_class)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      else item_view(avatar, item, @interface.read_ch-48)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      case c</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      when 2 then item(avatar,item.item_class)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      else item_view(avatar, item, @interface.read_ch-48)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>  def buy_item(avatar, item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    avatar.gold -= item.price</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    avatar.backpack.push(item)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>    avatar.save</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="28132bec1392405fdd907b9dfea70c6d1238e337">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/ui.rb</h3>
        <h4><span class="red">12.11 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require 'rbconfig'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>class Ui</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  @shop</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  def initialize(world)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="29">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    @world = world</pre>
      </td>
      <td class="hits">
        29
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  def login</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    @shop = @world.shop_inst</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    puts &quot;Welcome&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    puts &quot;1.Register&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    puts &quot;2.Login&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    when 1 then reg</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    when 2 then logs</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  def read_ch</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    require &quot;Win32API&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    Win32API.new(&quot;crtdll&quot;, &quot;_getch&quot;, [], &quot;L&quot;).Call</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  def clear_console</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    if(Config::CONFIG['host_os'] =~ /mswin|mingw/)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      #system('cls')</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      system('clear')</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>  def reg</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    registered = false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    while(!registered)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      puts 'Enter your nickname'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      name = gets</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      registered = true if(!File.exist? &quot;data/user/#{name.chomp}.yml&quot;) </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      puts 'Enter your password'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      pass = gets</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      @world.reg(name,pass)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      if registered</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        puts 'You successfully created you account. You can log in now.'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        puts &quot;This name is already taken.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>  def logs</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>    logged_in = false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    while(!logged_in)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      puts 'Enter your nickname'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      name = gets</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      puts 'Enter your password'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>      pass = gets</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>      avatar = @world.logs(name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>      if(avatar != nil)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>        if(avatar.password == pass.chomp)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>          logged_in = true</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>          puts 'You successfully logged in.'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>        puts 'avataracted does not exist or you entered incorrect password'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>        login</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    return avatar</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>  def show_stats(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>    puts &quot;Name: #{avatar.name}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>    puts &quot;Class: #{avatar.avatar_class}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>    puts &quot;HP: #{avatar.hp}/#{avatar.max_hp}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>    puts &quot;Mana: #{avatar.mana}/#{avatar.max_mana}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    puts &quot;Base damage: #{avatar.base_dmg_min}/#{avatar.base_dmg_max}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>    puts &quot;1. View equiped items.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    puts &quot;2. Go back&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>    when 1 then view_equipment(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>    when 2 then </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    else show_stats(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>  def view_equipment(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    if(avatar.eq_weapon != nil)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      puts &quot;Weapon:&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>      puts &quot;Name: #{avatar.eq_weapon.name}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>      puts &quot;Class: #{avatar.eq_weapon.item_class}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>      puts &quot;Level requirement: #{avatar.eq_weapon.level}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      puts &quot;Damage #{avatar.eq_weapon.damage_min}/#{avatar.eq_weapon.damage_max}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      puts &quot;1.Disequip weapon&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      puts &quot;2.Leave&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>      case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>      when 1 then avatar.disequip(avatar.eq_weapon)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>      when 2 then </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>      else show_status(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>      puts &quot;You have no weapon equiped.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>  def show_inventory(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>    if(avatar.backpack.class == Array)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>      if(avatar.backpack.size != 0)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>        avatar.backpack.each_with_index{|x,y| puts &quot;#{y+1}. #{x.name}&quot;}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>        c = -1</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>        until (avatar.backpack.length&gt;= c &amp;&amp; c &gt;= 0)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>          c = gets</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>          c = c.chomp.to_i</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>        end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>        item_view(avatar, avatar.backpack[c-1])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>        puts &quot;Your inventory is empty.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>  def item_view(avatar, item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>    puts &quot;Name: #{item.name}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>    puts &quot;Class: #{item.item_class}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>    puts &quot;Level requirement: #{item.level}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>    puts &quot;Damage #{item.damage_min}/#{item.damage_max}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>    puts &quot;1.Equip&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>    puts &quot;2.Leave&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>    when 1 then avatar.equip(item)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>    when 2 then </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>    else show_status(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre>  def go_to_world(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre>    puts &quot;1. Go to arena.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>    puts &quot;2. Go to the wilds.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>    puts &quot;3. Go to the shop.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>    puts &quot;4. Go to the inn.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre>    puts &quot;5. View your stats.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre>    puts &quot;6. View your inventory.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre>    puts &quot;7. Exit game&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>148</pre>
      </td>
      <td>
        <pre>    when 1 then arena(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>149</pre>
      </td>
      <td>
        <pre>    when 2 then wilds(avatar, @world.citys[avatar.current_city])</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>150</pre>
      </td>
      <td>
        <pre>    when 3 then shop(avatar, @world.citys[avatar.current_city].shop)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>151</pre>
      </td>
      <td>
        <pre>    when 4 then inn(avatar, @world.citys[avatar.current_city].inn)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>152</pre>
      </td>
      <td>
        <pre>    when 5 then show_stats(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>153</pre>
      </td>
      <td>
        <pre>    when 6 then show_inventory(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>154</pre>
      </td>
      <td>
        <pre>    when 7 then @world.exit</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>155</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>156</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>157</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>158</pre>
      </td>
      <td>
        <pre>  def inn(avatar,name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>159</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>160</pre>
      </td>
      <td>
        <pre>    puts &quot;Welcome to #{name}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>161</pre>
      </td>
      <td>
        <pre>    puts &quot;1.Rest and regain your strength.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>162</pre>
      </td>
      <td>
        <pre>    puts &quot;2.Leave.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>163</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>164</pre>
      </td>
      <td>
        <pre>    when 1 then @world.rest(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>165</pre>
      </td>
      <td>
        <pre>    when 2 then go_to_world(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>166</pre>
      </td>
      <td>
        <pre>    else inn(avatar, name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>167</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>168</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>169</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>170</pre>
      </td>
      <td>
        <pre>  def shop(avatar,name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>171</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>172</pre>
      </td>
      <td>
        <pre>    puts &quot;Welcome to #{name}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>173</pre>
      </td>
      <td>
        <pre>    puts &quot;1. Buy sword.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>174</pre>
      </td>
      <td>
        <pre>    puts &quot;2. Buy bow.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>175</pre>
      </td>
      <td>
        <pre>    puts &quot;3. Buy magic staff.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>176</pre>
      </td>
      <td>
        <pre>    puts &quot;4. Leave.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>177</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>178</pre>
      </td>
      <td>
        <pre>    when 1 then @shop.item(avatar, &quot;sword&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>179</pre>
      </td>
      <td>
        <pre>    when 2 then @shop.item(avatar, &quot;bow&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>180</pre>
      </td>
      <td>
        <pre>    when 3 then @shop.item(avatar, &quot;staff&quot;)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>181</pre>
      </td>
      <td>
        <pre>    when 4 then go_to_world(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>182</pre>
      </td>
      <td>
        <pre>    else shop(avatar, name)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>183</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>184</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>185</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>186</pre>
      </td>
      <td>
        <pre>  def item_view(avatar,item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>187</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>188</pre>
      </td>
      <td>
        <pre>    puts item.name</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>189</pre>
      </td>
      <td>
        <pre>    puts &quot;Level requirement: #{item.level}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>190</pre>
      </td>
      <td>
        <pre>    puts &quot;Damage #{item.damage_min}/#{item.damage_max}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>191</pre>
      </td>
      <td>
        <pre>    puts &quot;Price: #{item.price}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>192</pre>
      </td>
      <td>
        <pre>    if(avatar.gold &gt;= item.price)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>193</pre>
      </td>
      <td>
        <pre>      puts &quot;1. Buy.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>194</pre>
      </td>
      <td>
        <pre>    else </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>195</pre>
      </td>
      <td>
        <pre>      puts &quot;You do not have enough money.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>196</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>197</pre>
      </td>
      <td>
        <pre>    puts &quot;2. Go back.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>198</pre>
      </td>
      <td>
        <pre>    c = read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>199</pre>
      </td>
      <td>
        <pre>    if(avatar.gold&gt;=item.price)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>200</pre>
      </td>
      <td>
        <pre>      case c</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>201</pre>
      </td>
      <td>
        <pre>      when 1 then @shop.buy_item(avatar,item)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>202</pre>
      </td>
      <td>
        <pre>      when 2 then @shop.item(avatar, item.item_class)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>203</pre>
      </td>
      <td>
        <pre>      else item_view(avatar, item, @interface.read_ch-48)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>204</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>205</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>206</pre>
      </td>
      <td>
        <pre>      case c</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>207</pre>
      </td>
      <td>
        <pre>      when 2 then @shop.item(avatar,item.item_class)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>208</pre>
      </td>
      <td>
        <pre>      else item_view(avatar, item, @interface.read_ch-48)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>209</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>210</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>211</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>212</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>213</pre>
      </td>
      <td>
        <pre>  def item(item_list)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>214</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>215</pre>
      </td>
      <td>
        <pre>    item_list.each_with_index{|x,y| puts &quot;#{y+1}. #{x.name}&quot;}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>216</pre>
      </td>
      <td>
        <pre>    puts &quot;#{item_list.size + 1}. Leave shop.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>217</pre>
      </td>
      <td>
        <pre>    read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>218</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>219</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>220</pre>
      </td>
      <td>
        <pre>  def wilds(avatar,city)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>221</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>222</pre>
      </td>
      <td>
        <pre>    if(avatar.hp&gt;0)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>223</pre>
      </td>
      <td>
        <pre>      if(city.fight_area_nr !=0)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>224</pre>
      </td>
      <td>
        <pre>        puts &quot;Go to:&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>225</pre>
      </td>
      <td>
        <pre>        (1..city.fight_area_nr).collect{|x| puts x.to_s+&quot;. &quot;+city.fight_area[x.to_s.to_sym][:name]}</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>226</pre>
      </td>
      <td>
        <pre>        c = read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>227</pre>
      </td>
      <td>
        <pre>        go_to_area(avatar,city.fight_area[c.to_s.to_sym])    </pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>228</pre>
      </td>
      <td>
        <pre>      else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>229</pre>
      </td>
      <td>
        <pre>        puts &quot;There are no wild areas which you can visit now.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>230</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>231</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>232</pre>
      </td>
      <td>
        <pre>      puts &quot;You need to go to inn to rest.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>233</pre>
      </td>
      <td>
        <pre>       puts &quot;Press any key to continue.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>234</pre>
      </td>
      <td>
        <pre>       read_ch</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>235</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>236</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>237</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>238</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>239</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>240</pre>
      </td>
      <td>
        <pre>  def arena(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>241</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>242</pre>
      </td>
      <td>
        <pre>    if(avatar.hp&gt;0)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>243</pre>
      </td>
      <td>
        <pre>      puts &quot;Welcome to the arena.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>244</pre>
      </td>
      <td>
        <pre>      puts &quot;1.Fight random monster.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>245</pre>
      </td>
      <td>
        <pre>      puts &quot;2.Go back.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>246</pre>
      </td>
      <td>
        <pre>      case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>247</pre>
      </td>
      <td>
        <pre>      when 1 then @world.fight.fight(avatar, @world.find_arena_monster(@world.citys[avatar.current_city]))</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>248</pre>
      </td>
      <td>
        <pre>      when 2 then go_to_world(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>249</pre>
      </td>
      <td>
        <pre>      else arena(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>250</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>251</pre>
      </td>
      <td>
        <pre>    else</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>252</pre>
      </td>
      <td>
        <pre>      puts &quot;You need to go to inn to rest.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>253</pre>
      </td>
      <td>
        <pre>      puts &quot;Press any key to continue.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>254</pre>
      </td>
      <td>
        <pre>      read_ch</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>255</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>256</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>257</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>258</pre>
      </td>
      <td>
        <pre>  def go_to_area(avatar,area)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>259</pre>
      </td>
      <td>
        <pre>   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>260</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>261</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>262</pre>
      </td>
      <td>
        <pre>  def winner_msg(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>263</pre>
      </td>
      <td>
        <pre>    puts &quot;You have WON the battle!&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>264</pre>
      </td>
      <td>
        <pre>    puts &quot;Press any key to return to town.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>265</pre>
      </td>
      <td>
        <pre>    read_ch</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>266</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>267</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>268</pre>
      </td>
      <td>
        <pre>  def looser_msg(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>269</pre>
      </td>
      <td>
        <pre>    puts &quot;You have LOST the battle.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>270</pre>
      </td>
      <td>
        <pre>    puts &quot;Press any key to return to town.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>271</pre>
      </td>
      <td>
        <pre>    puts &quot;Don`t forget to visit inn to heal your wounds.&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>272</pre>
      </td>
      <td>
        <pre>    read_ch</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>273</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>274</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>275</pre>
      </td>
      <td>
        <pre>  def battle_info(avatar, enemy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>276</pre>
      </td>
      <td>
        <pre>    puts &quot;You are finghting #{enemy.name}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>277</pre>
      </td>
      <td>
        <pre>    puts &quot;Your stats:&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>278</pre>
      </td>
      <td>
        <pre>    puts &quot;HP: #{avatar.hp}/#{avatar.max_hp}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>279</pre>
      </td>
      <td>
        <pre>    puts &quot;Mana: #{avatar.mana}/#{avatar.max_mana}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>280</pre>
      </td>
      <td>
        <pre>    puts &quot;Base damage: #{avatar.base_dmg_min}/#{avatar.base_dmg_max}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>281</pre>
      </td>
      <td>
        <pre>    puts &quot;----&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>282</pre>
      </td>
      <td>
        <pre>    puts &quot;#{enemy.name} stats:&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>283</pre>
      </td>
      <td>
        <pre>    puts &quot;HP: #{enemy.hp}/#{enemy.max_hp}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>284</pre>
      </td>
      <td>
        <pre>    puts &quot;Base damage: #{enemy.base_dmg_min}/#{enemy.base_dmg_max}&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>285</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>286</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>287</pre>
      </td>
      <td>
        <pre>  def fight_menu(avatar,enemy)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>288</pre>
      </td>
      <td>
        <pre>    puts &quot;1.Basic attack&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>289</pre>
      </td>
      <td>
        <pre>    puts &quot;2.Skill attack&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>290</pre>
      </td>
      <td>
        <pre>    puts &quot;3.Use item&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>291</pre>
      </td>
      <td>
        <pre>    puts &quot;4.Run away&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>292</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>293</pre>
      </td>
      <td>
        <pre>    when 1 then @world.fight.attack(avatar, enemy)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>294</pre>
      </td>
      <td>
        <pre>    when 2 then @world.fight.skill(avatar, enemy)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>295</pre>
      </td>
      <td>
        <pre>    when 3 then @world.fight.use_item(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>296</pre>
      </td>
      <td>
        <pre>    else fight_menu(avatar, enemy)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>297</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>298</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>299</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>300</pre>
      </td>
      <td>
        <pre>  def choose_class(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>301</pre>
      </td>
      <td>
        <pre>    clear_console</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>302</pre>
      </td>
      <td>
        <pre>    puts 'Choose your avataracters class'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>303</pre>
      </td>
      <td>
        <pre>    puts '1. Warrior(Melee fighter)'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>304</pre>
      </td>
      <td>
        <pre>    puts '2. Archer(Ranged fighter)'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>305</pre>
      </td>
      <td>
        <pre>    puts '3. Mage(Magic fighter)'</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>306</pre>
      </td>
      <td>
        <pre>    case read_ch-48</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>307</pre>
      </td>
      <td>
        <pre>    when 1 then @world.class_warrior(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>308</pre>
      </td>
      <td>
        <pre>    when 2 then @world.class_archer(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>309</pre>
      </td>
      <td>
        <pre>    when 3 then @world.class_mage(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>310</pre>
      </td>
      <td>
        <pre>    else choose_class(avatar)</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>311</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>312</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>313</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="832129549b0647524fd7acd6d1b180205d6f9060">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/world.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class World</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  attr_reader :fight, :interface, :shop_inst, :citys, :items, :exitcmd</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  def initialize </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    @exitcmd = false</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    world = YamlManage.load_file(&quot;data/world.yml&quot;)</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    cities_number = world[:cities]</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="38">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    @citys = (1..cities_number.to_i).collect{|x| City.new(&quot;data/city/#{world[x.to_s.to_sym]}.yml&quot;)}</pre>
      </td>
      <td class="hits">
        38
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    @interface = Ui.new(self)</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    @fight = Fight.new(@interface)</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    @items = load_items</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="19">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    @shop_inst = Shop.new(@interface, @items)</pre>
      </td>
      <td class="hits">
        19
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  def load_items</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="190">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    Dir.glob(&quot;data/item/*&quot;).collect{|x| Item.new(x)}</pre>
      </td>
      <td class="hits">
        190
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>  def exit</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    @exitcmd = true</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>  end  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  def main_menu</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    avatar = nil</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="6">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    while(avatar == nil) do</pre>
      </td>
      <td class="hits">
        6
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      avatar = @interface.login()</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    while(true)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      if(avatar.avatar_class == 0)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        @interface.choose_class(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      else </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        @interface.clear_console</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        check_lvlup(avatar) </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        @interface.go_to_world(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>        avatar.save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      break if(@exitcmd) </pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>  def experience_for_level(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>    next_level = avatar.level + 1</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="4">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>    (next_level ** 3) + ((next_level + 1) ** 3) + (next_level * 3)</pre>
      </td>
      <td class="hits">
        4
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>  def check_lvlup(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>    if(experience_for_level(avatar)&lt;=avatar.exp)</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      avatar.exp = 0</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      avatar.level += 1</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>#---------  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>  def class_warrior(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>    avatar.avatar_class = 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>    avatar.base_dmg_min = 20</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    avatar.base_dmg_max = 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    avatar.max_hp = 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    avatar.hp = 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>    avatar.max_mana = 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>    avatar.mana = 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    avatar.save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>  def class_archer(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>    avatar.avatar_class = 2</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>    avatar.base_dmg_min = 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>    avatar.base_dmg_max = 50</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    avatar.max_hp = 75</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>    avatar.hp = 75</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>    avatar.max_mana = 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>    avatar.mana = 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    avatar.save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>  def class_mage(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>    avatar.avatar_class = 3</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>    avatar.base_dmg_min = 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>    avatar.base_dmg_max = 20</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>    avatar.max_hp = 50</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>    avatar.hp = 50</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>    avatar.max_mana = 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>    avatar.mana = 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    avatar.save</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>#---------    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>  def rest(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>    avatar.hp = avatar.max_hp</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>    avatar.mana = avatar.max_mana</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>#---------</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>  def find_arena_monster(city)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>    if(city.fight_area_nr !=0)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      area = Random.new.rand(1..city.fight_area_nr)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>      if(city.fight_area[area.to_s.to_sym][:monsters].size != 0)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>        city.fight_area[area.to_s.to_sym][:monsters][Random.new.rand(0..city.fight_area[area.to_s.to_sym][:monsters].size-1)]</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>  end   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>#---------   </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>  def reg(name,pass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    YamlManage.create_user(name,pass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>  def logs(name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>    Avatar.new(&quot;data/user/#{name.chomp}.yml&quot;) if(File.exist? &quot;data/user/#{name.chomp}.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>#---------  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>  def find_item(item_name)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>    item_return = nil</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>    @items.each do |x|</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="7">
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>      if(x.name == item_name)</pre>
      </td>
      <td class="hits">
        7
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>        item_return = x</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>        break</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>    return item_return</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre> </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="0af2ea43049f5008c8c20947126970834126a1c3">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./lib/yaml_manage.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>class YamlManage</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  def self.create_user(name, pass)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="30">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    output = File.new(&quot;data/user/#{name.chomp}.yml&quot;, 'w')</pre>
      </td>
      <td class="hits">
        30
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="30">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    @preferences = {:name =&gt; name.chomp,</pre>
      </td>
      <td class="hits">
        30
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      :password =&gt; pass.chomp, </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      :avatar_class =&gt; 0,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      :level =&gt; 1,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      :exp =&gt; 0,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      :current_city =&gt; 0,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      :gold =&gt; 100,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      :base_dmg_min =&gt; 0,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      :base_dmg_max =&gt; 0,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      :max_hp =&gt; 10,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      :hp =&gt; 10,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      :max_mana =&gt; 10,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      :mana =&gt; 10,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      :backpack =&gt; [],</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      :equiped =&gt; {:weapon =&gt; nil, :armor =&gt; nil}</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      };</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="30">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    output.puts YAML.dump(@preferences)</pre>
      </td>
      <td class="hits">
        30
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="30">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    output.close</pre>
      </td>
      <td class="hits">
        30
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  def self.save_char(avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    output = File.new(&quot;data/user/#{avatar[:name]}.yml&quot;, 'w')</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>    output.puts YAML.dump(avatar)</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="5">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    output.close</pre>
      </td>
      <td class="hits">
        5
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  def self.load_file(path)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="353">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>    output = File.new(path.chomp, 'r')</pre>
      </td>
      <td class="hits">
        353
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="353">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>    @preferences = YAML.load(output.read)</pre>
      </td>
      <td class="hits">
        353
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="353">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    output.close</pre>
      </td>
      <td class="hits">
        353
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="353">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    return @preferences</pre>
      </td>
      <td class="hits">
        353
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="47972f0de1c470631b667516cb59423ce577c803">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./matchers/be_readable.rb</h3>
        <h4><span class="red">75.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Matchers</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class BeReadable</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    def matches?(actual)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      if(actual[:name] != nil &amp;&amp;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>        actual[:password] != nil &amp;&amp;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>        actual[:avatar_class] != nil &amp;&amp;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>        actual[:level] != nil &amp;&amp;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        actual[:exp] != nil &amp;&amp;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>        actual[:current_city] != nil &amp;&amp;</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        actual[:gold] != nil) then</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>          true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      else </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>    def failure_message</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      &quot;expected to be readable but is not.'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    def negative_failure_message</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      &quot;expected not to be readable but did.'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  def be_readable</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    BeReadable.new</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="d152ca488c842763224ea410d804242c45038a54">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./matchers/be_updated.rb</h3>
        <h4><span class="red">78.57 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>module Matchers</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>  class BeUpdated</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>    def initialize(expected)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>      @expected = expected</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    def matches?(actual)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      if(@expected.eql?(actual))</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>        false</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      else </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>        true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    def failure_message</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      &quot;expected to be readable but is not.'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    def negative_failure_message</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="miss" data-hits="0">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      &quot;expected not to be readable but did.'&quot;</pre>
      </td>
      <td class="hits">
        0
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  def be_updated(expected)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    BeUpdated.new(expected)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="aa8190484f2efa40a361c9422b43d5a30579a51e">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/city_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>SimpleCov.start</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>describe &quot;Initialize&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  it&quot;should load file when object created&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    test = City.new('data/city/Ellion.yml')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    test.name.should == 'Ellion'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    test.shop.should == 'Run Down Shop'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    test.inn.should == 'Wild Legs Inn'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    test.fight_area_nr.should == 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="95f8d691aaa2680a35b0d63af282ce967e94dfc0">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/entity_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>SimpleCov.start</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>describe &quot;Initialize&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  it&quot;should load file when object created&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>  test = Entity.new('data/item/sword1.yml')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  test.name.should == 'Wooden sword'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="6b9b1137b28253ab16d370a74128874f45184766">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/fight_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>SimpleCov.start</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>  describe &quot;fight system&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>    before(:each) do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>      YamlManage.create_user(&quot;test&quot;,&quot;test&quot;)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      @avatar = Avatar.new(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      @monster = Monster.new(&quot;data/monster/Sin.yml&quot;)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      @interface = Ui.new(nil)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      @fight = Fight.new(@interface)</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    describe &quot;fight&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      it &quot;should initiate a fight with a monster sin&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>        @avatar.stub!(:save).and_return == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>        @interface.stub!(:battle_info)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>        @interface.stub!(:fight_menu)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>        @interface.stub!(:clear_console)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>        @fight.stub!(:attack).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>        @fight.stub!(:check_fight_end).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>        @fight.fight(@avatar, 'sin').should == nil</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>    describe &quot;check if someone was defeated and give bonus or penalty to player&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      it &quot;should give player penalty&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>        @avatar.hp = 0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>        @fight.stub!(:player_penalty)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        @fight.check_fight_end(@avatar, @monster).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      it &quot;should give player a bonus&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        @monster.hp = 0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        @fight.stub!(:player_prize)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>        @fight.check_fight_end(@avatar, @monster).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      it &quot;should do nothing&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>        @fight.check_fight_end(@avatar, @monster).should == false</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>    describe &quot;bonus&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      it &quot;should give avatar a bonus of 30 exp points and 3 gold&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>        a = mock(&quot;Random&quot;, {:rand =&gt; 3})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>        Random.stub!(:new).and_return(a)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>        @interface.stub(:winner_msg)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>        @fight.player_prize( @avatar, @monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>        @avatar.exp.should == 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>        @avatar.gold.should == 103</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>    describe &quot;penalty&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      it &quot;should decrease avatars exp by &quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>        a = mock(&quot;Random&quot;, {:rand =&gt; 30})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>        Random.stub!(:new).and_return(a)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>        @interface.stub(:looser_msg)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>        @fight.player_penalty(@avatar, @monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>        @avatar.gold.should == 97</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>    describe &quot;attack&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      it &quot;should decrease defenders health points by 1&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>        #damage is calculated by taking random number in range of avataracters min damage and max damage</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>        #therefor mock object a returning value 1 instead of random</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>        a = mock(&quot;Random&quot;, {:rand =&gt; 1})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>        Random.stub!(:new).and_return(a)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>        @fight.attack(@avatar, @monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>        @monster.hp.should == 74</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>      it &quot;should decrease defenders health points by 2 if attacker has a weapon&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>        #damage is calculated by taking random number in range of avataracters min damage and max damage</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>        #therefor mock object a returning value 1 instead of random</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>        a = mock(&quot;Random&quot;, {:rand =&gt; 2})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>        Random.stub!(:new).and_return(a)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>        @avatar.eq_weapon = Item.new(&quot;data/item/sword1.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>        @fight.attack(@avatar, @monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>        @monster.hp.should == 73</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>    describe &quot;skill attack&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>      it &quot;should decrease defenders health points by 20&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>        @avatar.base_dmg_max = 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>        @fight.skill(@avatar, @monster)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>        </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>        @monster.hp.should == 55</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>    describe &quot;use item&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>      it &quot;should increase avatars health points by 10&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>        @avatar.hp = 0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>        @fight.use_item(@avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>        @avatar.hp.should be_equal(10)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>  after(:all) do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>    File.delete(&quot;data/user/test.yml&quot;) if File.exists?(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="05daf67aeaa813e13e46f049b930fbb0b4adf74d">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/item_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>SimpleCov.start</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>describe &quot;item&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  describe &quot;Initialize&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    it&quot;should load file when object created&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>      test = Item.new('data/item/sword1.yml')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>      test.name.should == 'Wooden sword'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>      test.item_class.should == 'sword'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>      test.level.should == 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>      test.damage_min.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>      test.damage_max.should == 20</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      test.price.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  describe &quot;item filename finder&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    it &quot;should find 'Wooden sword' filename&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      Item.find_file_name(&quot;Wooden sword&quot;).should == &quot;sword1&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="d228de2cc8d32c63d6fd9f456190a25e1308c394">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/monster_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>SimpleCov.start</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>describe &quot;Initialize&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  it&quot;should load file when object created&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    test = Monster.new('data/monster/Sin.yml')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    test.name.should == 'Sin'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    test.level.should == 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    test.base_dmg_min.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    test.base_dmg_max.should == 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    test.max_hp.should == 75</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    test.hp.should == 75</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    test.exp_bonus.should == 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    test.gold_max.should == 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="e568e4ab759d260924361070b48d1608db667447">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/shop_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>describe &quot;shop&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  before(:each) do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    @world = World.new</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    @shop = @world.shop_inst</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    @interface =@world.interface</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>    YamlManage.create_user(&quot;test&quot;,&quot;test&quot;)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>    @avatar = Avatar.new(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>    @item = Item.new(&quot;data/item/sword1.yml&quot;)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>  describe &quot;buy item&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    it &quot;should add three items to avatars backpack and decrease gold amount by items price&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>      @avatar.stub!(:save).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>      @avatar.gold = 1000</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>      @shop.buy_item(@avatar, @item).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>      @shop.buy_item(@avatar, @item).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="10">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      item = @world.items.detect{|i| i.name == 'Broad sword'}</pre>
      </td>
      <td class="hits">
        10
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      @shop.buy_item(@avatar, item).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>      @avatar.gold.should == 480</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>      @avatar.backpack.should have(3).items</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>      @avatar.backpack.should include(item)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    end      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>  describe &quot;item selection&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>    it &quot;should find Wooden sword in item list&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>      @interface.should_receive(:item).and_return(1)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>      expected_item = Item.new(&quot;data/item/sword1.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="2">
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>      @interface.should_receive(:item_view).with(@avatar, instance_of(Item)).and_return{|a,b| b.name}</pre>
      </td>
      <td class="hits">
        2
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      @shop.item(@avatar, &quot;sword&quot;).should == &quot;Wooden sword&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>    it &quot;should return nothing&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      @interface.should_receive(:item).and_return(4)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      @shop.item(@avatar, &quot;sword&quot;).should == nil</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>  after(:each) do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="3">
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    File.delete(&quot;data/user/test.yml&quot;) if File.exists?(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        3
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="630315059ee47dd3a60f0177b71141278f26a6ed">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/world_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>describe World do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre>  before(:all) do </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>    @world = World.new</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>    @interface = @world.interface</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>    @shop = @world.shop_inst</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  before(:each) do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="15">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    @world = World.new</pre>
      </td>
      <td class="hits">
        15
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="15">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>    @interface = @world.interface</pre>
      </td>
      <td class="hits">
        15
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="15">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>    YamlManage.create_user(&quot;test&quot;,&quot;test&quot;)</pre>
      </td>
      <td class="hits">
        15
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="15">
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    @avatar = Avatar.new(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        15
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  describe &quot;Register&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    it &quot;should register new avatar&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      YamlManage.should_receive(:create_user).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>      @world.reg(&quot;new&quot;,&quot;user&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>  describe &quot;Login&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>    it &quot;should load avatar test&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      load = @world.logs(&quot;test&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>      load.class.should == @avatar.class</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>      load.name.should == @avatar.name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>      load.password.should == @avatar.password</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>  describe &quot;Class selection&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>    it &quot;should specify characters class as warrior and save data&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>      @avatar.stub!(:save).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>      @world.class_warrior(@avatar).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>      @avatar.avatar_class.should == 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>      @avatar.base_dmg_min.should == 20</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>      @avatar.base_dmg_max.should == 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>      @avatar.max_hp.should == 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>      @avatar.hp.should == 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>42</pre>
      </td>
      <td>
        <pre>      @avatar.max_mana.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>43</pre>
      </td>
      <td>
        <pre>      @avatar.mana.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>44</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>45</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>46</pre>
      </td>
      <td>
        <pre>    it &quot;should specify characters class as archer and save data&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>47</pre>
      </td>
      <td>
        <pre>      @avatar.stub!(:save).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>48</pre>
      </td>
      <td>
        <pre>      @world.class_archer(@avatar).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>49</pre>
      </td>
      <td>
        <pre>      @avatar.avatar_class.should == 2</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>50</pre>
      </td>
      <td>
        <pre>      @avatar.base_dmg_min.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>51</pre>
      </td>
      <td>
        <pre>      @avatar.base_dmg_max.should == 50</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>52</pre>
      </td>
      <td>
        <pre>      @avatar.max_hp.should == 75</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>53</pre>
      </td>
      <td>
        <pre>      @avatar.hp.should == 75</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>54</pre>
      </td>
      <td>
        <pre>      @avatar.max_mana.should == 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>55</pre>
      </td>
      <td>
        <pre>      @avatar.mana.should == 30</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>56</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>57</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>58</pre>
      </td>
      <td>
        <pre>    it &quot;should specify characters class as mage and save data&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>59</pre>
      </td>
      <td>
        <pre>      @avatar.stub!(:save).and_return(true)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>60</pre>
      </td>
      <td>
        <pre>      @world.class_mage(@avatar).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>61</pre>
      </td>
      <td>
        <pre>      @avatar.avatar_class.should == 3</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>62</pre>
      </td>
      <td>
        <pre>      @avatar.base_dmg_min.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>63</pre>
      </td>
      <td>
        <pre>      @avatar.base_dmg_max.should == 20</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>64</pre>
      </td>
      <td>
        <pre>      @avatar.max_hp.should == 50</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>65</pre>
      </td>
      <td>
        <pre>      @avatar.hp.should == 50</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>66</pre>
      </td>
      <td>
        <pre>      @avatar.max_mana.should == 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>67</pre>
      </td>
      <td>
        <pre>      @avatar.mana.should == 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>68</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>69</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>70</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>71</pre>
      </td>
      <td>
        <pre>  describe &quot;level up&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>72</pre>
      </td>
      <td>
        <pre>    describe &quot;experience for level&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>73</pre>
      </td>
      <td>
        <pre>      it &quot;should return 50 for level 2&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>74</pre>
      </td>
      <td>
        <pre>        @world.experience_for_level(@avatar).should == 41</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>75</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>76</pre>
      </td>
      <td>
        <pre>        </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>77</pre>
      </td>
      <td>
        <pre>      it &quot;should return 100 for level 3&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>78</pre>
      </td>
      <td>
        <pre>        @avatar.level = 2</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>79</pre>
      </td>
      <td>
        <pre>        @world.experience_for_level(@avatar).should == 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>80</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>81</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>82</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>83</pre>
      </td>
      <td>
        <pre>    describe &quot;check level up&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>84</pre>
      </td>
      <td>
        <pre>      it &quot;should set avatar`s level to 2&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>85</pre>
      </td>
      <td>
        <pre>        @avatar.exp = 100</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>86</pre>
      </td>
      <td>
        <pre>        @world.check_lvlup(@avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>87</pre>
      </td>
      <td>
        <pre>        @avatar.level.should == 2</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>88</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>89</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>90</pre>
      </td>
      <td>
        <pre>      it &quot;should set avatar`s level to 10&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>91</pre>
      </td>
      <td>
        <pre>        @avatar.level = 9</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>92</pre>
      </td>
      <td>
        <pre>        @avatar.exp = 5000</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>93</pre>
      </td>
      <td>
        <pre>        @world.check_lvlup(@avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>94</pre>
      </td>
      <td>
        <pre>        @avatar.level.should == 10</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>95</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>96</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>97</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>98</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>99</pre>
      </td>
      <td>
        <pre>  describe &quot;menu&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>100</pre>
      </td>
      <td>
        <pre>    describe &quot;exit&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>101</pre>
      </td>
      <td>
        <pre>      it &quot;should set program to exit&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>102</pre>
      </td>
      <td>
        <pre>        @world.exit</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>103</pre>
      </td>
      <td>
        <pre>        @world.exitcmd.should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>104</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>105</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>106</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>107</pre>
      </td>
      <td>
        <pre>    describe &quot;main menu&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>108</pre>
      </td>
      <td>
        <pre>      it &quot;should let choose avatar`s class&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>109</pre>
      </td>
      <td>
        <pre>        @interface.should_receive(:login).and_return(@avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>110</pre>
      </td>
      <td>
        <pre>        @interface.should_receive(:choose_class)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>111</pre>
      </td>
      <td>
        <pre>        @world.exit</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>112</pre>
      </td>
      <td>
        <pre>        @world.main_menu</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>113</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>114</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>115</pre>
      </td>
      <td>
        <pre>      it &quot;should show main game menu&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>116</pre>
      </td>
      <td>
        <pre>        @avatar.avatar_class = 1</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>117</pre>
      </td>
      <td>
        <pre>        @interface.should_receive(:login).and_return(@avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>118</pre>
      </td>
      <td>
        <pre>        @interface.stub(:clear_console)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>119</pre>
      </td>
      <td>
        <pre>        @world.should_receive(:check_lvlup)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>120</pre>
      </td>
      <td>
        <pre>        @interface.should_receive(:go_to_world)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>121</pre>
      </td>
      <td>
        <pre>        @avatar.should_receive(:save)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>122</pre>
      </td>
      <td>
        <pre>        @world.exit</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>123</pre>
      </td>
      <td>
        <pre>        @world.main_menu</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>124</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>125</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>126</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>127</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>128</pre>
      </td>
      <td>
        <pre>      </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>129</pre>
      </td>
      <td>
        <pre>    describe &quot;find item&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>130</pre>
      </td>
      <td>
        <pre>      it &quot;should find item by given name and return its data&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>131</pre>
      </td>
      <td>
        <pre>        item = Item.new(&quot;data/item/sword1.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>132</pre>
      </td>
      <td>
        <pre>        result = @world.find_item('Wooden sword')</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>133</pre>
      </td>
      <td>
        <pre>        result.class.should == item.class</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>134</pre>
      </td>
      <td>
        <pre>        result.name.should == item.name</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>135</pre>
      </td>
      <td>
        <pre>        result.item_class.should == item.item_class</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>136</pre>
      </td>
      <td>
        <pre>      end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>137</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>138</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>139</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>140</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>141</pre>
      </td>
      <td>
        <pre>  describe &quot;rest&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>142</pre>
      </td>
      <td>
        <pre>    it &quot;should restore characters hp and mana to max&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>143</pre>
      </td>
      <td>
        <pre>      @avatar.hp = 0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>144</pre>
      </td>
      <td>
        <pre>      @avatar.mana = 0</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>145</pre>
      </td>
      <td>
        <pre>      @world.rest(@avatar)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>146</pre>
      </td>
      <td>
        <pre>      @avatar.hp.should == @avatar.max_hp</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>147</pre>
      </td>
      <td>
        <pre>      @avatar.mana.should == @avatar.max_mana</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>148</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>149</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>150</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>151</pre>
      </td>
      <td>
        <pre>  describe &quot;arena monster seach&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>152</pre>
      </td>
      <td>
        <pre>    it &quot;should find monster from area 1 Blob in city Ellion&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>153</pre>
      </td>
      <td>
        <pre>      a = mock(&quot;Random&quot;, {:rand =&gt; 1})</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>154</pre>
      </td>
      <td>
        <pre>        Random.stub!(:new).and_return(a)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>155</pre>
      </td>
      <td>
        <pre>      @world.find_arena_monster(@world.citys[0]).should == &quot;Blob&quot;</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>156</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>157</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>158</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>159</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>160</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>161</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
        <div class="source_table" id="8fdce5675695fd36d60910546cffe32644b305c3">
  <table>
    <thead>
    <tr>
      <td colspan="3">
        <h3>./spec/yaml_manage_spec.rb</h3>
        <h4><span class="green">100.0 %</span> covered</h4>
      </td>
    </tr>
    <tr>
      <th>#</th>
      <th></th>
      <th>Hits</th>
    </tr>
    </thead>
    <tbody>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>1</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/spec_helper.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>2</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/../matchers/be_readable.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>3</pre>
      </td>
      <td>
        <pre>require File.dirname(__FILE__) + '/../matchers/be_updated.rb'</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>4</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>5</pre>
      </td>
      <td>
        <pre>RSpec.configure do |config|  </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>6</pre>
      </td>
      <td>
        <pre>  config.include(Matchers)  </pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>7</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>8</pre>
      </td>
      <td>
        <pre></pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>9</pre>
      </td>
      <td>
        <pre>describe &quot;Yaml File system&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>10</pre>
      </td>
      <td>
        <pre>  describe &quot;create char&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>11</pre>
      </td>
      <td>
        <pre>    it &quot;should create character file with basic info and stats&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>12</pre>
      </td>
      <td>
        <pre>      YamlManage.create_user(&quot;test&quot;, &quot;test&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>13</pre>
      </td>
      <td>
        <pre>      (File.exist?&quot;data/user/test.yml&quot;).should == true</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>14</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>15</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>16</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>17</pre>
      </td>
      <td>
        <pre>  describe &quot;load any game file&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>18</pre>
      </td>
      <td>
        <pre>    it &quot;should load any game file and return it&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>19</pre>
      </td>
      <td>
        <pre>      YamlManage.load_file(&quot;data/user/test.yml&quot;).should be_readable</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>20</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>21</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>22</pre>
      </td>
      <td>
        <pre>    </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>23</pre>
      </td>
      <td>
        <pre>  describe &quot;update char&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>24</pre>
      </td>
      <td>
        <pre>    it &quot;should update character file with current info&quot; do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>25</pre>
      </td>
      <td>
        <pre>      before = YamlManage.load_file(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>26</pre>
      </td>
      <td>
        <pre>      test2 = {:name =&gt; 'test',</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>27</pre>
      </td>
      <td>
        <pre>        :password =&gt; 'test',</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>28</pre>
      </td>
      <td>
        <pre>        :class =&gt; 2,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>29</pre>
      </td>
      <td>
        <pre>        :level =&gt; 10,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>30</pre>
      </td>
      <td>
        <pre>        :exp =&gt; 1000,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>31</pre>
      </td>
      <td>
        <pre>        :current_city =&gt; 1,</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>32</pre>
      </td>
      <td>
        <pre>        :gold =&gt; 13200};</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>33</pre>
      </td>
      <td>
        <pre>      YamlManage.save_char(test2)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>34</pre>
      </td>
      <td>
        <pre>      YamlManage.load_file(&quot;data/user/test.yml&quot;).should be_updated(before)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>35</pre>
      </td>
      <td>
        <pre>    end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>36</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>37</pre>
      </td>
      <td>
        <pre>  </pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>38</pre>
      </td>
      <td>
        <pre>  after(:all) do</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="hit" data-hits="1">
      <td class="line_number">
        <pre>39</pre>
      </td>
      <td>
        <pre>    File.delete(&quot;data/user/test.yml&quot;) if File.exists?(&quot;data/user/test.yml&quot;)</pre>
      </td>
      <td class="hits">
        1
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>40</pre>
      </td>
      <td>
        <pre>  end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    
    <tr class="never" >
      <td class="line_number">
        <pre>41</pre>
      </td>
      <td>
        <pre>end</pre>
      </td>
      <td class="hits">
        
      </td>
    </tr>
  
    </tbody>
  </table>
</div>
      
      </div>
    </div>
  </body>
</html>
